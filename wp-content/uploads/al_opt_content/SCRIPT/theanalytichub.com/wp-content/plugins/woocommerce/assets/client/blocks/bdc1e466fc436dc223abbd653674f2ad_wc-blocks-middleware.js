(()=>{var r={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},d:(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},e={},t=(r.r(e),window.wp.apiFetch),t=r.n(t);let o="",n=0;try{let e=window.localStorage.getItem("storeApiNonce"),t=e?JSON.parse(e):{};o=(null==t?void 0:t.nonce)||"",n=(null==t?void 0:t.timestamp)||0}catch{}let a=(e,t)=>{e===o||n&&t<n||(o=e,n=t||Date.now()/1e3,window.localStorage.setItem("storeApiNonce",JSON.stringify({nonce:o,timestamp:n})))},l=e=>{var t=e.headers||{};return e.headers={...t,Nonce:o},e};t().use((e,t)=>{var o,r;return!(r=(o=e).url||o.path)||!o.method||"GET"===o.method||null===/wc\/store\/v1\//.exec(r)||(e=l(e),!Array.isArray(null==(o=e)||null==(r=o.data)?void 0:r.requests))||(e.data.requests=e.data.requests.map(l)),t(e,t)}),t().setNonce=e=>{var t="function"==typeof(null==e?void 0:e.get)?e.get("Nonce"):e.Nonce,e="function"==typeof(null==e?void 0:e.get)?e.get("Nonce-Timestamp"):e["Nonce-Timestamp"];t&&a(t,e)},a(wcBlocksMiddlewareConfig.storeApiNonce,wcBlocksMiddlewareConfig.storeApiNonceTimestamp),(this.wc=this.wc||{}).wcBlocksMiddleware=e})();